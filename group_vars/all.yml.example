---

server_git_version: master
server_git_repo: git://github.com/oberon-chat/chat-server.git

local_dir: "{{ playbook_dir }}"
local_config_dir: "{{ local_dir }}/configs"
local_server_config: "{{ local_config_dir }}/server"

postgres:
  oauth2:
    db: "{{ lookup('env', 'CHAT_OAUTH2_POSTGRES_DB') }}"
    host: "{{ lookup('env', 'CHAT_OAUTH2_POSTGRES_HOST') }}"
    user: "{{ lookup('env', 'CHAT_OAUTH2_POSTGRES_USER') }}"
    pass: "{{ lookup('env', 'CHAT_OAUTH2_POSTGRES_PASS') }}"
  server:
    db: "{{ lookup('env', 'CHAT_SERVER_POSTGRES_DB') }}"
    host: "{{ lookup('env', 'CHAT_SERVER_POSTGRES_HOST') }}"
    user: "{{ lookup('env', 'CHAT_SERVER_POSTGRES_USER') }}"
    pass: "{{ lookup('env', 'CHAT_SERVER_POSTGRES_PASS') }}"
  webhook:
    db: "{{ lookup('env', 'CHAT_WEBHOOK_POSTGRES_DB') }}"
    host: "{{ lookup('env', 'CHAT_WEBHOOK_POSTGRES_HOST') }}"
    user: "{{ lookup('env', 'CHAT_WEBHOOK_POSTGRES_USER') }}"
    pass: "{{ lookup('env', 'CHAT_WEBHOOK_POSTGRES_PASS') }}"

server_dir: "/home/{{ ansible_user }}/chat_server"
server_build_dir: "{{ server_dir }}/build"
server_build_tarball: "{{ server_build_dir }}/_build/prod/rel/chat_server/releases/**/chat_server.tar.gz"
server_current_dir: "{{ server_dir }}/current"
server_next_dir: "{{ server_dir }}/next"
server_previous_dir: "{{ server_dir }}/previous"
server_releases_dir: "{{ server_dir }}/releases"
server_release_tarball: "{{ server_releases_dir }}/{{ server_git_version }}.tar.gz"
server_app_binary: "{{ server_current_dir }}/bin/chat_server"

elixir_version: "1.5.2-1"
erlang_version: "1:20.1"

erlang_cookie: "6hNpFxXDbxatfJ9sRFiKo7vu0AkRVTYmr1AxDsDibf1a0bqCWWsJTmo1usgFTuCA"

lets_encrypt_domain: "example.com"
lets_encrypt_email: "<email>"
